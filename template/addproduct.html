{% extends 'sellerbase.html' %}
{% block content %}

<form method="post" action="{% url 'productaction' %}"enctype="multipart/form-data" >{% csrf_token %}
	<div class="row mb-3">
		<label for="inputEmail3" class="col-sm-2 col-form-label">Product Name</label>
		<div class="col-sm-10">
		  <input type="text" class="form-control" id="pname" name="productname" >
		</div>
	  </div>
	  <div class="row mb-3">
		<label for="inputEmail3" class="col-sm-2 col-form-label">Image</label>
		<div class="col-sm-10">
		  <input type="file" class="form-control" id="image" name="image" >
		</div>
	  </div>
	  <div class="row mb-3">
		<label for="inputEmail3" class="col-sm-2 col-form-label">Price</label>
		<div class="col-sm-10">
		  <input type="text" class="form-control" id="price" name="price" >
		</div>
	  </div>
	  <div class="row mb-3">
		<label for="inputEmail3" class="col-sm-2 col-form-label">Stock</label>
		<div class="col-sm-10">
		  <input type="text" class="form-control" id="stock" name="stock" >
		</div>
	  </div>
	  <div class="row mb-3"> 
		<label for="" class="col-sm-2 col-form-label">Category</label>
		<div class="col-sm-10">
		<select name="categoryid" class="form-select" id="cid" >
		  <option value="">--select--</option>
		  {% for c in cat %}
		<option value="{{c.id}}">{{c.cname}}</option>
		{% endfor %}
		  
		</select>
	  </div>
	  </div>
	  <div class="row mb-3">
		<label for="inputEmail3" class="col-sm-2 col-form-label">Details</label>
		<div class="col-sm-10">
		  <textarea name="details" class="form-control" id="details" name="details" ></textarea>
		</div>
	  </div>

	  <div class="text-center">
		<input type="submit" value="Add" class="btn btn-primary" onclick="return validation()">
	  </div>
	  </form>
		
		<script type ="text/javascript">
		function validation(){
			var alpha=/^[a-zA-Z]+$/;
			var n=document.getElementById("pname");
			var image=document.getElementById("image");
			var price=document.getElementById("price");
			var stock=document.getElementById("stock");
			var c=document.getElementById("cid");
			var d=document.getElementById("details");

			if(n.value.length==0){
				alert("enter product name")
				return false;
			}
			else if(!n.value.match(alpha)){
				alert("enter a valid product name")
				return false;
			}
			else if(image.value.length==0){
				alert("upload image")
				return false;
			}
			else if(price.value.length==0){
				alert("enter price")
				return false;
			}
			else if(stock.value.length==0){
				alert("enter stock")
				return false;
			}
			else if(c.value.length==0){
				alert("enter categoryid")
				return false;
			}
			else if(d.value.length==0){
				alert("enter details")
				return false;
			}
			else{
				return true;
			}


		}
		</script>

		
	</body>
{% if messages %}
	{% for msg in messages %}
	<script>
	alert('{{msg}}')
	</script>
	{% endfor %}
{% endif %}
{% endblock %}